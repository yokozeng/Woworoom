{"version":3,"sources":["admin.js","all.js"],"names":["console","clear","apiPath","token","orderData","orderList","document","querySelector","thead","tbodyList","primary","primaryLight","light","colors","getOrderList","axios","get","headers","Authorization","then","response","data","orders","log","length","innerHTML","productCategory","theadStr","date","orderStatusText","str","forEach","item","index","paid","Date","createdAt","getFullYear","getMonth","getDate","productsStr","products","title","quantity","id","user","name","tel","address","email","addEventListener","e","orderId","target","getAttribute","orderClassName","orderStatus","editOrderListStatus","deleteOrderItem","deleteAllOrder","newStatus","put","alert","error","chart","obj","objAry","productCategoryAry","items","category","undefined","Object","keys","ary","push","sort","a","b","renderC3","arrayName","pieChart","c3","generate","bindto","columns","type","productsData","cartData","productList","cartList","select","deleteAllCartBtn","tbody","tfoot","cartTotalPrice","shoppingCartList","init","getProductsList","getCartsList","renderProductsList","value","images","origin_price","price","carts","refreshBtn","preventDefault","strHead","strFoot","finalTotal","product","addCartClass","ProductId","addItemToCart","ProductNum","post","cartId","cartCalss","form","inputs","querySelectorAll","msg","sendOrderBtn","orderName","orderTel","orderEmail","orderAddress","orderPayment","carthLength","payment","sentOrderList","reset","message"],"mappings":"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","file":"all.js","sourcesContent":["//首頁跟後台拆開做\n\n/*\n\n戳所有產品API getProductsList() -> 取得產品資料\n跑forEach 組字串-> 顯示產品資訊\nselect綁change監聽 -> 篩選產品資訊\n*/\n\nconsole.clear();\n\nlet apiPath = \"zengzeng\";\nlet token = \"JZrWxOJ9QrMv7bwenU4Xp94h4M12\";\nlet orderData = [];\n\n//DOM元素\nconst orderList = document.querySelector(\".orderList\");\nconst thead = document.querySelector(\".thead\");\nconst tbodyList = document.querySelector(\".tbodyList\");\n\n// 圖表顏色變數\n//const primaryDark = \"#301E5F\";\nconst primary = \"#937218\";\nconst primaryLight = \"#c79a20\";\nconst light = \"#c7b06f\";\n// 類別排名高到低\nlet colors = [primary, primaryLight, light];\n\n/*========================= 後台 =========================*/\n\n/*---------- 訂單相關(管理者) ----------*/\n\n// GET 取得訂單列表 (v)\nfunction getOrderList() {\n  axios\n    .get(\n      `https://livejs-api.hexschool.io/api/livejs/v1/admin/${apiPath}/orders`,\n      {\n        headers: {\n          Authorization: token\n        }\n      }\n    )\n    .then(function (response) {\n      //console.log('成功',response.data.orders);\n      orderData = response.data.orders;\n      //console.log(\"response.data.orders1\", orderData);\n      console.log(\"length\", orderData.length);\n      console.log(orderData.length == 0)\n      //判斷訂單內有無東西\n      if (orderData.length == 0) {\n        orderList.innerHTML = `\n            <p class=\"text-center text-secondary\">\n              目前沒有訂單唷(っ˘ω˘ς )\n            </p>\n          `;\n        return;\n      } else {\n        console.log(\"render中\");\n        \n        //render 圖表\n        productCategory(orderData);\n        \n        //table head字串\n        let theadStr = `\n        <div>\n        <input type=\"button\" value=\"清除全部訂單\" class=\"deleteAllOrderBtn\">\n        <tr>\n      <th>訂單編號</th>\n      <th>聯絡人</th>\n      <th>聯絡地址</th>\n      <th>電子郵件</th>\n      <th>訂單品項</th>\n      <th>訂單日期</th>\n      <th>訂單狀態</th>\n      <th>操作</th>\n    </tr>`;\n        thead.innerHTML = theadStr;\n        \n        let date;\n        let orderStatusText = '';\n        let str = \"\";\n       \n        \n        //forEach\n        orderData.forEach(function (item,index) {\n          \n          // 訂單狀態轉換\n          if(item.paid === false){\n            orderStatusText = '未處理';\n          }else{\n            orderStatusText = '已處理'\n          }\n          \n          // 日期轉換\n          date = new Date(item.createdAt*1000); \n    date = `${date.getFullYear()}/${date.getMonth()+1}/${date.getDate()}`;\n          \n          // 印出產品項目1\n          let productsStr = '';\n          item.products.forEach(function(item){\n            productsStr += `<p>${item.title} x ${item.quantity}</p>`\n          })\n          \n          \n          //組 table body字串\n          str += `<tr>\n                    <td>${item.id}</td>\n                    <td>\n                      <p>${item.user.name}</p>\n                      <p>${item.user.tel}</p>\n                    </td>\n                    <td>${item.user.address}</td>\n                    <td>${item.user.email}</td>\n                    <td>\n                      <p>${productsStr}</p>\n                    </td>\n                    <td>${date}</td>\n                    <td class=\"orderStatus\">\n                      <input type=\"button\" class=\"orderStatusBtn\" data-id=\"${item.id}\" data-status=\"${item.paid}\" value=\"${orderStatusText}\">\n                    </td>\n                    <td>\n                      <input type=\"button\" class=\"delSingleOrderBtn\" data-id=\"${item.id}\" value=\"刪除\">\n                    </td>\n                </tr>`;\n        });\n        console.log(\"response.data.orders2\", orderData);\n        tbodyList.innerHTML = str;\n      }\n    });\n};\ngetOrderList();\n\n//監聽\norderList.addEventListener(\"click\", function (e) {\n  //console.log('id啦',e.target.dataset.id)\n  let orderId = e.target.getAttribute('data-id');\n  let orderClassName = e.target.getAttribute(\"class\");\n  let orderStatus = e.target.getAttribute('data-status');\n  console.log('paidStatus', orderStatus);\n  console.log('id',orderId);\n  console.log('class',orderClassName);\n \n  //觸發 修改訂單狀態\n  if (orderClassName == \"orderStatusBtn\") {\n    editOrderListStatus(orderStatus, orderId);\n  }\n\n  //觸發 刪除特定訂單\n if (orderClassName == \"delSingleOrderBtn\") {\n   deleteOrderItem(orderId);\n }\n  \n  //觸發 清空全部訂單\n if (orderClassName == \"deleteAllOrderBtn\") {\n    deleteAllOrder();\n }\n\n});\n\n// PUT 修改訂單狀態 (v)\nfunction editOrderListStatus(orderStatus, orderId) {\n  console.log(\"修改中\");\n  // 轉換訂單狀態\n  let newStatus;\n  if (orderStatus == \"true\") {\n    newStatus = false;\n  } else {\n    newStatus = true;\n  };\n  console.log(\"newStatus\", newStatus);\n\n  axios\n    .put(\n      `https://livejs-api.hexschool.io/api/livejs/v1/admin/${apiPath}/orders`,\n      {\n        data: {\n          id: orderId,\n          paid: newStatus\n        }\n      },\n      {\n        headers: {\n          Authorization: token\n        }\n      }\n    )\n    .then(function (response) {\n      alert(\"狀態修改成功 (*´▽`*)\");\n      console.log(\"狀態修改成功 (*´▽`*)\");\n      getOrderList();\n    })\n    .catch(function (error) {\n      console.log(\"狀態修改失敗\", error.response.data);\n    });\n};\n\n// DELETE 清空全部訂單\nfunction deleteAllOrder() {\n  axios\n    .delete(\n      `https://livejs-api.hexschool.io/api/livejs/v1/admin/${apiPath}/orders`,\n      {\n        headers: {\n          Authorization: token\n        }\n      }\n    )\n    .then(function (response) {\n      console.log(response.data);\n      alert(\"訂單已全部清空。 (*´▽`*)\");\n      getOrderList();\n    });\n};\n\n// DELETE 刪除特定訂單 (v)\nfunction deleteOrderItem(orderId){\n  console.log('準備刪除訂單囉～');\n   axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/admin/${apiPath}/orders/${orderId}`,\n    {\n      headers: {\n        'Authorization': token\n      }\n    })\n    .then(function (response) {\n      console.log(response.data);\n      alert('訂單刪除成功 (*´▽`*)');\n      getOrderList();\n    });\n  \n  \n};\n\n// 圖表 全品項營收比重\nfunction productCategory(orderData) {\n    if (orderData.length == 0) {\n        chart.innerHTML = `<p>目前沒有訂單唷(っ˘ω˘ς )</p>`;\n    } else {\n      \n        let obj = {};\n        let objAry = [];\n        let productCategoryAry = [];\n      // 篩選類別，並累加數量上去\n        orderData.forEach(function (items) {\n            items.products.forEach(function (item) {\n              console.log('obj',obj)\n                console.log('類別數量',obj[item.category]);\n                if (obj[item.category] === undefined) {\n                    obj[item.category] = item.quantity;\n                } else {\n                    obj[item.category] += item.quantity;\n                }\n                console.log('最後類別數量',obj[item.category]);\n            })\n        });\n      // 將資料處理成符合 c3 要的格式，存進 productCategoryAry\n        objAry = Object.keys(obj);\n        console.log('objAry',objAry);\n        objAry.forEach(function (item) {\n            let ary = [];\n            ary.push(item);\n            ary.push(obj[item]);\n            productCategoryAry.push(ary);\n        })\n      console.log('productCategoryAry',productCategoryAry)\n\n        // 排序 (多到少)\n        productCategoryAry.sort(function (a, b) {\n            return b[1] - a[1];\n          \n        });\n\n        renderC3(productCategoryAry);\n    }\n}\n\n// 圖表 renderC3\nfunction renderC3(ary) {\n\n    // 處理顏色格式\n    let arrayName = {};\n    ary.forEach(function (item, index) {\n        if (arrayName[item[0]] === undefined) {\n            arrayName[item[0]] = colors[index];\n        }\n    })\n\n  //c3產生器\n    const pieChart = c3.generate({\n        bindto: \"#chart\", \n        data: {\n            columns: ary, // 資料存放\n            type: \"pie\", // 圖表種類\n            colors: arrayName\n        }\n    });\n}","//首頁跟後台拆開做\n\n/*\n\n戳所有產品API getProductsList() -> 取得產品資料\n跑forEach 組字串-> 顯示產品資訊\nselect綁change監聽 -> 篩選產品資訊\n*/\n\nconsole.clear();\n\nlet apiPath = 'zengzeng';\nlet token = 'JZrWxOJ9QrMv7bwenU4Xp94h4M12';\nlet productsData = [];\nlet cartData = [];\n//DOM元素\nconst productList = document.querySelector('.productList');\nconst cartList = document.querySelector('.cartList');\nconst select = document.querySelector('.productCategory');\nconst deleteAllCartBtn = document.querySelector('.deleteAllCartBtn')\nconst thead = document.querySelector('.thead');\nconst tbody = document.querySelector('.tbody');\nconst tfoot = document.querySelector('.tfoot');\nconst cartTotalPrice = document.querySelector('.cartTotalPrice');\nconst shoppingCartList = document.querySelector('.shoppingCartList');\n\n\n\n/*========================= 前台 =========================*/\n\n//初始化\nfunction init(){\n  getProductsList();\n  getCartsList();\n};\ninit();\n/*---------- 產品相關(客戶) ----------*/\n\n// GET 取得產品列表 (v)\nfunction getProductsList(){\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/products`)\n  .then(function (response) {\n    // 成功會回傳的內容\n    //console.log(response);\n    productsData = response.data.products;\n    renderProductsList();\n  });\n};\n\n//select 篩選產品列表 \nselect.addEventListener('change',function(e){\n  let category = e.target.value;\n  if( category == '全部'){\n    renderProductsList();\n    return;\n  }else{\n    //🤔\n    let str = '';\n    productsData.forEach(function(item){\n      if( category == item.category){\n        str += `<li class=\"productCard\">\n          <h6 class=\"productType\">NEW</h6>\n          <img src=\"${item.images}\" alt=\"${item.title}\">\n          <a class=\"js-addCart\" data-id=\"${item.id}\">加入購物車</a>\n          <h5>${item.title}</h5>\n          <del class=\"originPrice h6\">NT$${item.origin_price}</del>\n          <h3 class=\"nowPrice\">NT$${item.price}</h3>\n      </li>`;}\n    });\n    productList.innerHTML= str;\n  }\n})\n\n//render產品列表 \nfunction renderProductsList(){\n  let str ='';\n  productsData.forEach(function(item){\n      str += `<li class=\"productCard\">\n          <h6 class=\"productType\">NEW</h6>\n          <img src=\"${item.images}\" alt=\"${item.title}\">\n          <a class=\"js-addCart\" data-id=\"${item.id}\">加入購物車</a>\n          <h5>${item.title}</h5>\n          <del class=\"originPrice h6\">NT$${item.origin_price}</del>\n          <h3 class=\"nowPrice\">NT$${item.price}</h3>\n      </li>`;\n    });\n  productList.innerHTML= str;\n}\n\n/*---------- 購物車相關(客戶) ----------*/\n\n\n// GET 取得購物車列表 (v)\nfunction getCartsList(){\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`)\n  .then(function (response) {\n    //判斷訂單內有無東西\n    console.log('response.data',response.data);\n    cartData = response.data.carts;\n    console.log('cartData',cartData);\n    console.log(cartData.length == 0);\n    //沒東西\n      if (cartData.length == 0) {\n        thead.innerHTML = '';\n        tfoot.innerHTML = '';\n        tbody.innerHTML = `\n            <tr>\n      <td colspan=\"5\" class=\"text-center border-0\">\n          <p><a class=\"refreshBtn\"><span class=\"material-icons\"> refresh </span></a></p>\n              <p class=\"text-secondary\">目前是空的</p>\n              <p class=\"text-secondary\">等您將喜歡的商品加進購物車唷 (っ˘ω˘ς )</p>\n      </td>\n    \n    </tr>\n          `;\n        const refreshBtn = document.querySelector('.refreshBtn');\n        console.log(refreshBtn);\n        refreshBtn.addEventListener('click',function(e){\n          e.preventDefault();\n          getCartsList();\n          alert(\"刷新！\");\n        });\n        \n        return;\n      }\n    // 有東西\n    let str = '';\n    let strHead = `<tr>\n                    <th width=\"40%\">品項</th>\n                    <th width=\"15%\">單價</th>\n                    <th width=\"15%\">數量</th>\n                    <th width=\"15%\">金額</th>\n                    <th width=\"15%\"></th>\n                </tr>`;\n    let strFoot = `\n                    <td>\n                        <a href=\"#\" class=\"deleteAllCartBtn\">刪除所有品項</a>\n                    </td>\n                    <td></td>\n                    <td></td>\n                    <td>\n                        <p class=\"cartTotal-Text\">總金額</p>\n                    </td>\n                    <td class=\"cartTotalPrice\">\n                      NT$${response.data.finalTotal}\n                    </td> \n    `;\n    cartData.forEach(function(item){\n      str += `\n      <tr>\n        <td>\n            <div class=\"cardItem-title\">\n                <img src=\"${item.product.images}\" alt=\"\">\n                <p class=\"cartItem-name\">${item.product.title}</p>\n            </div>\n        </td>\n        <td class=\"cartItem-price\">NT$${item.product.price}</td>\n        <td class=\"cartItem-num\">${item.quantity}</td>\n        <td class=\"cartItem-price\">NT$${item.product.price * item.quantity}</td>\n        <td class=\"text-end\">\n        <a href=\"#\" class=\"material-icons discardBtn\" data-id=\"${item.id}\">clear</a>\n        </td>\n    </tr>`\n    });\n    //cartTotalPrice.innerHTML = `NT$${response.data.finalTotal}`;\n    thead.innerHTML = strHead;\n    tbody.innerHTML = str ;\n    tfoot.innerHTML = strFoot ;\n    //console.log(str);\n  })\n};\n\n// POST 加入購物車(v)\nproductList.addEventListener('click',function(e){\n  e.preventDefault(); //消除預設行為\n  let addCartClass = e.target.getAttribute('class');\n  console.log(addCartClass);\n  console.log(addCartClass !== \"js-addCart\")\n  if( addCartClass !== \"js-addCart\" ){\n    return;\n  }\n  let ProductId = e.target.getAttribute('data-id');\n  addItemToCart(ProductId);\n  \n});\nfunction addItemToCart(ProductId){\n  let ProductNum = 1;\n  cartData.forEach(function(item){\n    if( ProductId == item.product.id){\n      ProductNum = item.quantity += 1 ;\n    }\n  })\n  axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`, {\n    data: {\n    \"productId\": ProductId,\n    \"quantity\": ProductNum\n    }\n  })\n  .then(function (response) {\n    alert('加入購物車成功');\n    init();\n    getCartsList();\n    console.log(response.data);\n  });\n};\n\n// DELETE 刪除購物車內特定產品 (v)\ntbody.addEventListener('click',function(e){\n  e.preventDefault();\n  const cartId = e.target.getAttribute('data-id');\n  console.log('點到囉')\n  console.log(cartId);\n  if(cartId == null){\n    return;\n  }else{\n    axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts/${cartId}`)\n  .then(function (response) {\n    // 成功會回傳的內容\n    console.log(response.data);\n    alert('刪除成功')\n    getCartsList();\n  })\n  }\n});\n\n// DELETE 清空購物車產品 (v)\ntfoot.addEventListener('click',function(e){\n  e.preventDefault();\n  const cartCalss = e.target.getAttribute('class');\n  console.log('tfoot')\n  console.log(cartCalss);\n  if(cartCalss == 'deleteAllCartBtn'){\n    console.log('刪除中');\n    axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`)\n  .then(function (response) {\n    // 成功會回傳的內容\n    console.log('cart_success', response.data);\n    alert('全部刪光光');\n    getCartsList();\n  })\n  .catch(function (error) {\n    alert('購物車已經是空的囉')\n    console.log('cart_error', error.data);\n  })\n  }\n})\n//deleteAllCartBtn.addEventListener('click',deleteAllItemsFromCart)\n// function deleteAllItemsFromCart(e){\n//   e.preventDefault();\n//   axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`)\n//   .then(function (response) {\n//     // 成功會回傳的內容\n//     console.log('cart_success', response.data);\n//     alert('全部刪光光');\n//     getCartsList();\n//   })\n//   .catch(function (error) {\n//     alert('購物車已經是空的囉')\n//     console.log('cart_error', error.data);\n//   })\n// };\n\n\n// /*---------- 訂單相關(客戶) ----------*/\nconst form = document.querySelector(\".addTicket-form\");\nconst inputs = document.querySelectorAll(\"input[type = text], input[type = tel], select\");\nconst msg = document.querySelectorAll('.messages');\nconst sendOrderBtn = document.querySelector('.sendOrder');\nconst orderName = document.querySelector('.orderName');\nconst orderTel = document.querySelector('.orderTel');\nconst orderEmail = document.querySelector('.orderEmail');\nconst orderAddress = document.querySelector('.orderAddress');\nconst orderPayment = document.querySelector('.orderPayment');\n\n\n// //監聽後觸發防空值判斷\n// //防空值 -> 購物車列表 & 表單欄位\n// //若無空值 -> 戳送出訂單的API\n\n// POST 送出購買定單 (v)先放棄驗證QQ\nsendOrderBtn.addEventListener('click',function(){\n  let carthLength = document.querySelectorAll(\".tbody td\").length;\n  console.log(carthLength);\n  if (carthLength==0){\n    alert(\"當前購物車內沒有產品，所以無法送出訂單 RRR ((((；゜Д゜)))\");\n    return;\n  };\n  if (orderName.value == \"\" || orderTel.value == \"\" || orderEmail.value == \"\" || orderAddress.value==\"\"){\n    alert(\"客戶資訊尚未填寫 ((((；゜Д゜)))\");\n    return;\n  }\n  let orderData ={\n    name: orderName.value,\n    tel: orderTel.value,\n    email: orderEmail.value,\n    address: orderAddress.value,\n    payment:  orderPayment.value\n  };\n  sentOrderList(orderData);\n  form.reset(); //一鍵清除\n  //validateForm();\n  //alert(\"請確認所有欄位是否填寫正確唷\");\n});\n\n// /*\n// //表單驗證 validata.js\n// const constraints = {\n// \t姓名:{   //抓input裡name的值\n// \t\tpresence: {\n//       message: \"是必填欄位\"\n//     }, //presence 為欄位必填的驗證\n// \t},\n// \t電話:{\n// \t\tpresence: {\n//       message: \"是必填欄位\"\n//     },\n// \t},\n// \tEmail:{   \n// \t\tpresence: {\n// \t    message: \"是必填欄位\"\n// \t  }, \n//     email: true\n// \t},\n// \t地址:{   \n// \t\tpresence: {\n// \tmessage: \"是必填欄位\"\n// \t}, \n// \t},\n// }\n// //將validate套件錯誤訊息裡的英文轉換為中文\n// let translation = {\n//   姓名: \"name\",\n//   電話: \"tel\",\n//   Email: \"email\",\n//   地址: \"address\",\n// };\n// //欄位驗證函式\n// function validateForm(){\n//   //預設為空值\n//   cleanErrorMsg();\n//   inputs.forEach((item) => {\n//     let errors = validate(form, constraints); // 驗證回傳的內容\n//     console.log('errors1',errors);\n//     if (errors) {\n//       Object.keys(errors).forEach(function (keys) {\n//         console.log('errors2',errors);\n//         const msgText = document.querySelector(`.${translation[keys]}`);\n//         msgText.textContent = errors[keys];\n//       });\n//     }\n//   });\n// }\n// //清空錯誤訊息\n// function cleanErrorMsg(){\n//   msg.forEach(function(item,inex){\n//   item.textContent = \"\"; \n//   });\n// };\n// */\n\n\nfunction sentOrderList(item){\n  axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/orders`, {\n    data: {\n      user: {\n        name: item.name,\n        tel: item.tel,\n        email: item.email,\n        address: item.address,\n        payment:  item.payment\n      }\n    }\n  })\n  .then(function (response) {\n    console.log('success', response.data);\n    alert('訂單建立成功');\n    getCartsList();\n  })\n  .catch(function (error) {\n    console.log('error.response.data', error.response.data);\n    console.log('error.response.data.message', error.response.data.message);\n  });\n}\n\n\n\n"]}