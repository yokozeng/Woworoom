{"version":3,"sources":["all.js"],"names":["console","clear","apiPath","token","productsData","cartData","productList","document","querySelector","cartList","select","deleteAllCartBtn","thead","tbody","tfoot","cartTotalPrice","shoppingCartList","init","getProductsList","getCartsList","axios","get","then","response","data","products","renderProductsList","addEventListener","e","category","target","value","str","forEach","item","images","title","id","origin_price","price","innerHTML","log","carts","length","refreshBtn","preventDefault","alert","strHead","strFoot","finalTotal","product","quantity","addCartClass","getAttribute","ProductId","addItemToCart","ProductNum","post","cartId","cartCalss","error","form","inputs","querySelectorAll","msg","sendOrderBtn","orderName","orderTel","orderEmail","orderAddress","orderPayment","carthLength","orderData","name","tel","email","address","payment","sentOrderList","reset","user","message"],"mappings":"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","file":"all.js","sourcesContent":["//首頁跟後台拆開做\n\n/*\n\n戳所有產品API getProductsList() -> 取得產品資料\n跑forEach 組字串-> 顯示產品資訊\nselect綁change監聽 -> 篩選產品資訊\n*/\n\nconsole.clear();\n\nlet apiPath = 'zengzeng';\nlet token = 'JZrWxOJ9QrMv7bwenU4Xp94h4M12';\nlet productsData = [];\nlet cartData = [];\n//DOM元素\nconst productList = document.querySelector('.productList');\nconst cartList = document.querySelector('.cartList');\nconst select = document.querySelector('.productCategory');\nconst deleteAllCartBtn = document.querySelector('.deleteAllCartBtn')\nconst thead = document.querySelector('.thead');\nconst tbody = document.querySelector('.tbody');\nconst tfoot = document.querySelector('.tfoot');\nconst cartTotalPrice = document.querySelector('.cartTotalPrice');\nconst shoppingCartList = document.querySelector('.shoppingCartList');\n\n\n\n/*========================= 前台 =========================*/\n\n//初始化\nfunction init(){\n  getProductsList();\n  getCartsList();\n};\ninit();\n/*---------- 產品相關(客戶) ----------*/\n\n// GET 取得產品列表 (v)\nfunction getProductsList(){\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/products`)\n  .then(function (response) {\n    // 成功會回傳的內容\n    //console.log(response);\n    productsData = response.data.products;\n    renderProductsList();\n  });\n};\n\n//select 篩選產品列表 \nselect.addEventListener('change',function(e){\n  let category = e.target.value;\n  if( category == '全部'){\n    renderProductsList();\n    return;\n  }else{\n    //🤔\n    let str = '';\n    productsData.forEach(function(item){\n      if( category == item.category){\n        str += `<li class=\"productCard\">\n          <h6 class=\"productType\">NEW</h6>\n          <img src=\"${item.images}\" alt=\"${item.title}\">\n          <a class=\"js-addCart\" data-id=\"${item.id}\">加入購物車</a>\n          <h5>${item.title}</h5>\n          <del class=\"originPrice h6\">NT$${item.origin_price}</del>\n          <h3 class=\"nowPrice\">NT$${item.price}</h3>\n      </li>`;}\n    });\n    productList.innerHTML= str;\n  }\n})\n\n//render產品列表 \nfunction renderProductsList(){\n  let str ='';\n  productsData.forEach(function(item){\n      str += `<li class=\"productCard\">\n          <h6 class=\"productType\">NEW</h6>\n          <img src=\"${item.images}\" alt=\"${item.title}\">\n          <a class=\"js-addCart\" data-id=\"${item.id}\">加入購物車</a>\n          <h5>${item.title}</h5>\n          <del class=\"originPrice h6\">NT$${item.origin_price}</del>\n          <h3 class=\"nowPrice\">NT$${item.price}</h3>\n      </li>`;\n    });\n  productList.innerHTML= str;\n}\n\n/*---------- 購物車相關(客戶) ----------*/\n\n\n// GET 取得購物車列表 (v)\nfunction getCartsList(){\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`)\n  .then(function (response) {\n    //判斷訂單內有無東西\n    console.log('response.data',response.data);\n    cartData = response.data.carts;\n    console.log('cartData',cartData);\n    console.log(cartData.length == 0);\n    //沒東西\n      if (cartData.length == 0) {\n        thead.innerHTML = '';\n        tfoot.innerHTML = '';\n        tbody.innerHTML = `\n            <tr>\n      <td colspan=\"5\" class=\"text-center border-0\">\n          <p><a class=\"refreshBtn\"><span class=\"material-icons\"> refresh </span></a></p>\n              <p class=\"text-secondary\">目前是空的</p>\n              <p class=\"text-secondary\">等您將喜歡的商品加進購物車唷 (っ˘ω˘ς )</p>\n      </td>\n    \n    </tr>\n          `;\n        const refreshBtn = document.querySelector('.refreshBtn');\n        console.log(refreshBtn);\n        refreshBtn.addEventListener('click',function(e){\n          e.preventDefault();\n          getCartsList();\n          alert(\"刷新！\");\n        });\n        \n        return;\n      }\n    // 有東西\n    let str = '';\n    let strHead = `<tr>\n                    <th width=\"40%\">品項</th>\n                    <th width=\"15%\">單價</th>\n                    <th width=\"15%\">數量</th>\n                    <th width=\"15%\">金額</th>\n                    <th width=\"15%\"></th>\n                </tr>`;\n    let strFoot = `\n                    <td>\n                        <a href=\"#\" class=\"deleteAllCartBtn\">刪除所有品項</a>\n                    </td>\n                    <td></td>\n                    <td></td>\n                    <td>\n                        <p class=\"cartTotal-Text\">總金額</p>\n                    </td>\n                    <td class=\"cartTotalPrice\">\n                      NT$${response.data.finalTotal}\n                    </td> \n    `;\n    cartData.forEach(function(item){\n      str += `\n      <tr>\n        <td>\n            <div class=\"cardItem-title\">\n                <img src=\"${item.product.images}\" alt=\"\">\n                <p class=\"cartItem-name\">${item.product.title}</p>\n            </div>\n        </td>\n        <td class=\"cartItem-price\">NT$${item.product.price}</td>\n        <td class=\"cartItem-num\">${item.quantity}</td>\n        <td class=\"cartItem-price\">NT$${item.product.price * item.quantity}</td>\n        <td class=\"text-end\">\n        <a href=\"#\" class=\"material-icons discardBtn\" data-id=\"${item.id}\">clear</a>\n        </td>\n    </tr>`\n    });\n    //cartTotalPrice.innerHTML = `NT$${response.data.finalTotal}`;\n    thead.innerHTML = strHead;\n    tbody.innerHTML = str ;\n    tfoot.innerHTML = strFoot ;\n    //console.log(str);\n  })\n};\n\n// POST 加入購物車(v)\nproductList.addEventListener('click',function(e){\n  e.preventDefault(); //消除預設行為\n  let addCartClass = e.target.getAttribute('class');\n  console.log(addCartClass);\n  console.log(addCartClass !== \"js-addCart\")\n  if( addCartClass !== \"js-addCart\" ){\n    return;\n  }\n  let ProductId = e.target.getAttribute('data-id');\n  addItemToCart(ProductId);\n  \n});\nfunction addItemToCart(ProductId){\n  let ProductNum = 1;\n  cartData.forEach(function(item){\n    if( ProductId == item.product.id){\n      ProductNum = item.quantity += 1 ;\n    }\n  })\n  axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`, {\n    data: {\n    \"productId\": ProductId,\n    \"quantity\": ProductNum\n    }\n  })\n  .then(function (response) {\n    alert('加入購物車成功');\n    init();\n    getCartsList();\n    console.log(response.data);\n  });\n};\n\n// DELETE 刪除購物車內特定產品 (v)\ntbody.addEventListener('click',function(e){\n  e.preventDefault();\n  const cartId = e.target.getAttribute('data-id');\n  console.log('點到囉')\n  console.log(cartId);\n  if(cartId == null){\n    return;\n  }else{\n    axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts/${cartId}`)\n  .then(function (response) {\n    // 成功會回傳的內容\n    console.log(response.data);\n    alert('刪除成功')\n    getCartsList();\n  })\n  }\n});\n\n// DELETE 清空購物車產品 (v)\ntfoot.addEventListener('click',function(e){\n  e.preventDefault();\n  const cartCalss = e.target.getAttribute('class');\n  console.log('tfoot')\n  console.log(cartCalss);\n  if(cartCalss == 'deleteAllCartBtn'){\n    console.log('刪除中');\n    axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`)\n  .then(function (response) {\n    // 成功會回傳的內容\n    console.log('cart_success', response.data);\n    alert('全部刪光光');\n    getCartsList();\n  })\n  .catch(function (error) {\n    alert('購物車已經是空的囉')\n    console.log('cart_error', error.data);\n  })\n  }\n})\n//deleteAllCartBtn.addEventListener('click',deleteAllItemsFromCart)\n// function deleteAllItemsFromCart(e){\n//   e.preventDefault();\n//   axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`)\n//   .then(function (response) {\n//     // 成功會回傳的內容\n//     console.log('cart_success', response.data);\n//     alert('全部刪光光');\n//     getCartsList();\n//   })\n//   .catch(function (error) {\n//     alert('購物車已經是空的囉')\n//     console.log('cart_error', error.data);\n//   })\n// };\n\n\n// /*---------- 訂單相關(客戶) ----------*/\nconst form = document.querySelector(\".addTicket-form\");\nconst inputs = document.querySelectorAll(\"input[type = text], input[type = tel], select\");\nconst msg = document.querySelectorAll('.messages');\nconst sendOrderBtn = document.querySelector('.sendOrder');\nconst orderName = document.querySelector('.orderName');\nconst orderTel = document.querySelector('.orderTel');\nconst orderEmail = document.querySelector('.orderEmail');\nconst orderAddress = document.querySelector('.orderAddress');\nconst orderPayment = document.querySelector('.orderPayment');\n\n\n// //監聽後觸發防空值判斷\n// //防空值 -> 購物車列表 & 表單欄位\n// //若無空值 -> 戳送出訂單的API\n\n// POST 送出購買定單 (v)先放棄驗證QQ\nsendOrderBtn.addEventListener('click',function(){\n  let carthLength = document.querySelectorAll(\".tbody td\").length;\n  console.log(carthLength);\n  if (carthLength==0){\n    alert(\"當前購物車內沒有產品，所以無法送出訂單 RRR ((((；゜Д゜)))\");\n    return;\n  };\n  if (orderName.value == \"\" || orderTel.value == \"\" || orderEmail.value == \"\" || orderAddress.value==\"\"){\n    alert(\"客戶資訊尚未填寫 ((((；゜Д゜)))\");\n    return;\n  }\n  let orderData ={\n    name: orderName.value,\n    tel: orderTel.value,\n    email: orderEmail.value,\n    address: orderAddress.value,\n    payment:  orderPayment.value\n  };\n  sentOrderList(orderData);\n  form.reset(); //一鍵清除\n  //validateForm();\n  //alert(\"請確認所有欄位是否填寫正確唷\");\n});\n\n// /*\n// //表單驗證 validata.js\n// const constraints = {\n// \t姓名:{   //抓input裡name的值\n// \t\tpresence: {\n//       message: \"是必填欄位\"\n//     }, //presence 為欄位必填的驗證\n// \t},\n// \t電話:{\n// \t\tpresence: {\n//       message: \"是必填欄位\"\n//     },\n// \t},\n// \tEmail:{   \n// \t\tpresence: {\n// \t    message: \"是必填欄位\"\n// \t  }, \n//     email: true\n// \t},\n// \t地址:{   \n// \t\tpresence: {\n// \tmessage: \"是必填欄位\"\n// \t}, \n// \t},\n// }\n// //將validate套件錯誤訊息裡的英文轉換為中文\n// let translation = {\n//   姓名: \"name\",\n//   電話: \"tel\",\n//   Email: \"email\",\n//   地址: \"address\",\n// };\n// //欄位驗證函式\n// function validateForm(){\n//   //預設為空值\n//   cleanErrorMsg();\n//   inputs.forEach((item) => {\n//     let errors = validate(form, constraints); // 驗證回傳的內容\n//     console.log('errors1',errors);\n//     if (errors) {\n//       Object.keys(errors).forEach(function (keys) {\n//         console.log('errors2',errors);\n//         const msgText = document.querySelector(`.${translation[keys]}`);\n//         msgText.textContent = errors[keys];\n//       });\n//     }\n//   });\n// }\n// //清空錯誤訊息\n// function cleanErrorMsg(){\n//   msg.forEach(function(item,inex){\n//   item.textContent = \"\"; \n//   });\n// };\n// */\n\n\nfunction sentOrderList(item){\n  axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/orders`, {\n    data: {\n      user: {\n        name: item.name,\n        tel: item.tel,\n        email: item.email,\n        address: item.address,\n        payment:  item.payment\n      }\n    }\n  })\n  .then(function (response) {\n    console.log('success', response.data);\n    alert('訂單建立成功');\n    getCartsList();\n  })\n  .catch(function (error) {\n    console.log('error.response.data', error.response.data);\n    console.log('error.response.data.message', error.response.data.message);\n  });\n}\n\n\n\n"]}